/**
 * A collection of CSS snippetss to reverse some of the styling of the new Discord UI.
 */

/* Don't cover server list with user panel */
.visual-refresh section.panels_c48ade {
  left: calc(var(--custom-guild-list-width) + var(--space-xs));
  width: calc(100% - var(--custom-guild-list-width) - var(--space-xs)*2);
  box-sizing: content-box;
  .actionButtons_e131a9 button {
    padding: 0;
  }
    }
nav.guilds_c48ade {
  margin-bottom: 0 !important;
}

/* Make animated role colors static */
[class*=usernameGradient] {
  background: var(--custom-gradient-color-1);
  -webkit-background-clip: text;
  &::after { display: none }
}

/* Hide server (guild) tags */
span[class*="clanTag_"] { display: none; }                                         /* Hide tags in user list */
[class*="chipletContainerInner_"]:has([src*="/clan-badges/"]) { display: none; }   /* Hide tags in messages */

/* Hide nameplates in DM list */
li[class*="channel__"] > div[class*="interactive__"] > div[class*="container__"]:is([class*="fadeIn__"], :has(> div[class*="videoContainer__"])) { display: none; }

/* Hide nitro nameplate decorations*/
[class*="plated"] [style^="background: linear-gradient("] { display: none; }

/* Hide title bar at the top of window */
.visual-refresh {
  --vr-header-snippet-top: 0px;
  --vr-header-snippet-server-padding: 16px;
  --vr-header-snippet-space: 230px;
  --vr-header-snippet-button-padding: 0;
  div.chat_f75fb0:not(.threadSidebarOpen_f75fb0) div.subtitleContainer_f75fb0,
  main.container__133bf,
  div.chatLayerWrapper__01ae2 {
    & section.container__9293f {
      padding-right: var(--vr-header-snippet-space);
    }
  }
  div.headerBar__8a7fc.overlay__8a7fc {
    padding-right: var(--vr-header-snippet-space);
    & .tab__65d41,
    & .searchBar__1ac1c {
      -webkit-app-region: no-drag;
    }
  }
  div.videoControls_bfe55a div.subtitleContainer__49508 {
    padding-right: calc(var(--vr-header-snippet-space) - 20px);
    & .toolbar__9293f {
      -webkit-app-region: no-drag;
    }
  }
  div.page_c48ade {
    &:not(:has(> div.chat_f75fb0)) {
      anchor-name: --vr-header-snippet;
    }
    & > div.chat_f75fb0 {
      anchor-name: --vr-header-snippet;
    }
  }
  div.base_c48ade {
    grid-template-rows: [top] 0 [titleBarEnd] min-content [noticeEnd] 1fr [contentEnd] min-content [end];
    &:has(div.bar_c38106 > div.trailing_c38106 .updateIconForeground__49676) {
      & div.chat_f75fb0,
      & div.subtitleContainer_f75fb0,
      & main.container__133bf,
      & div.chatLayerWrapper__01ae2 {
        & section.container__9293f {
          padding-right: calc(var(--vr-header-snippet-space) + 50px);
        }
      }
      & div.videoControls_bfe55a .topControls_bfe55a div.toolbar__9293f {
        margin-right: calc(var(--vr-header-snippet-space) + 30px) !important;
      }
    }
    & > div.content_c48ade {
      z-index: 0;
    }
    & > div.bar_c38106 {
      position: absolute;
      position-anchor: --vr-header-snippet;
      top: var(--vr-header-snippet-top);
      right: anchor(right);
      width: anchor-size(width);
      padding: 0 var(--vr-header-snippet-button-padding) 0 0;
      & > .title_c38106 {
        display: none;
      }
    }
    &:has(> .notice__6e2b9) {
      & > div.bar_c38106 {
        top: anchor(top);
      }
    }
    & div.trailing_c38106 {
      background: none;
      border: none;
      height: var(--custom-channel-header-height);
    }
    &:has(.threadSidebarOpen_f75fb0.threadSidebarFloating_f75fb0)
      > .bar_c38106 {
      z-index: 0;
    }
  }
  :not(:has(div.page_c48ade > div.chat_f75fb0))
    div.base_c48ade
    > div.bar_c38106 {
    right: 0 !important;
  }
  ul[data-list-id="guildsnav"] > div.itemsContainer_ef3116 > div.stack_dbd263 {
    margin-top: var(--vr-header-snippet-server-padding);
  }
  section.header__0b563 div.toolbar__9293f,
  section.header_c791b2 div.toolbar__9293f,
  section.header_c791b2 div.children__9293f,
  :not(.videoControls_bfe55a) div.topic__6ec1a {
    -webkit-app-region: no-drag;
  }
  .div.videoControls_bfe55a .topControls_bfe55a {
    z-index: -1;
  }
}
